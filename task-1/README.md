# Приложение на React Native с картой

## Основной функционал

Приложение позволяет:
- Просматривать карту
- Добавлять маркеры на карту
- Добавлять заголовок и описание для каждого маркера
- Прикреплять фотографии из галерии к маркерам
- Просматривать добавленные фотографии
- Удалять фотографии и маркеры

## Установка и запуск

### Предварительные требования
- Node.js
- npm
- Установленное приложение **Expo Go** на телефоне *или* Android эмулятор.

### Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/goga-59/expo-apps.git
   cd expo-apps/task-1
   ```
   
2. Установите зависимости:
   ```bash
   npm install
   ```

### Запуск
Запустите проект на ПК:
```bash
npx expo start
```

После этого можно открыть проект в Expo Go (на телефоне), через ADB или в эмуляторе Android.
- Через **Expo Go**<br>
  Отсканируйте QR-код в терминале с Android устройства, чтобы запустить приложение. При этом Android устройство и ПК должны быть в одной сети WiFi.
- Через ADB/Эмулятор<br>
  В терминале нажмите `a`, чтобы запустить приложение.
  - Если Android устройство подключено через ADB (провод или WiFi), приложение откроется на нём.
  - Если используется эмулятор, Expo запустит его автоматически.

## Особенности реализации
При реализации были приняты следующие решения:
- Для стилизации использовалась библиотека `NativeWind` с поддержкой Tailwind.
- В роутинге используется `Stack` и `Tabs`:
  - В корневом `Stack` представлены:
    - экран с картой (`index`);
    - экран маркера (`markers/[id]`);
    - экран 404 (`+not-found`).
  - На экране маркера (`markers/[id]`) используется `Tabs` c двумя вкладками:
    - Информация (`information`) для отображения основных данных по маркеру;
    - Галерея (`photos`) для отображения фотографий.
- Для отображения адреса на экране маркера (`markers/[id]`) используется обратное геокодирование координат из библиотеки `expo-location`.
- Для сохранения информации по маркеру используется `async-storage` (key-value), где вся информация сохраняется как JSON-строка. Сами операции по взаимодействию с хранилищем описаны в `utils/storage.ts`.

Были реализованы дополнительные компоненты:
- `PhotoModal` - предпросмотр фотографии;
- `MarkerModal` - редактирование названия и описания маркерa;
- `ActionButton` - единый стиль "кнопки действия". Используется, чтобы открыть редактирование маркера и, чтобы добавить фотографию;
- `BackButton` - возврат с экрана маркера (`markers/[id]`) на экран с картой (`index`);
- `DeleteMarkerButton` -  удаление маркера.

## Известные проблемы и ограничения
- Библиотека react-native-maps не поддерживает web, поэтому запуск в браузере невозможен.
